<div *ngIf="isSessionActive(); else loginForm">
    <h2>Welcome, {{ getLoggedUser()?.name }}!</h2>
    <p class="text-success">{{ sessionStatus }}</p>
    <button class="btn btn-danger" (click)="logout()">Logout</button>
</div>

<ng-template #loginForm>
    <div class="form-container background">
        <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="bg-white p-4 rounded shadow-sm" style="width: 100%; max-width: 400px;">
            <h2 class="text-center mb-4">Login</h2>
            <div class="form-group mb-3">
                <label for="username" class="form-label">Username</label>
                <input type="text" id="username" class="form-control" required [(ngModel)]="loginUser.username" name="username" #username="ngModel" placeholder="Enter your username">
            </div>
            <div class="form-group mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" class="form-control" required [(ngModel)]="loginUser.email" name="email" #email="ngModel" placeholder="Enter your email">
            </div>
            <div class="form-group mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" id="password" class="form-control" required [(ngModel)]="loginUser.password" name="password" #password="ngModel" placeholder="Enter your password">
            </div>
            <div *ngIf="errorMessage" class="alert alert-danger mt-3" role="alert">
                {{ errorMessage }}
            </div>
            <button type="submit" class="btn btn-primary w-100" [disabled]="!loginForm.form.valid">Login</button>
        </form>
    </div>
</ng-template>

<style>
    .form-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh; 
        background-image: url('https://via.placeholder.com/1920x1080');
        background-size: cover; 
        background-position: center; 
    }
    .background {
        background-image:url("https://francinejoaillerie.com/wp-content/uploads/2024/04/l26rsquo3Bimportance-du-mouvement-mecanique-dans-les-montres-haut-de-gamme.jpg");
        height: 100vh;
    }
    .background::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.3); /* Adjust the alpha value for transparency */
        z-index: 1; /* Ensure the overlay is behind the content */
    }
    .background > * {
        position: relative;
        z-index: 2; /* Ensure the content is above the overlay */
    }
</style>
